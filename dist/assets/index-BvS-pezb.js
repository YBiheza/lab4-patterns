(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();class I{constructor(t,e,c){this.id=t,this.content=e,this.status=c}}const p=class p{static createTask(t,e){return new I(this.idCounter++,t,e)}};p.idCounter=0;let h=p;class o{constructor(){this.tasks=[],this.listeners=[]}static getInstance(){return o.instance||(o.instance=new o),o.instance}addTask(t){this.tasks.push(t),this.notify()}toggleTask(t){const e=this.tasks.find(c=>c.id===t);if(e){switch(e.status){case"not_started":e.status="active";break;case"active":e.status="completed";break;case"completed":e.status="not_started";break}this.notify()}}updateStatus(t,e){const c=this.tasks.find(s=>s.id===t);c&&(c.status=e,this.notify())}removeTask(t){this.tasks.find(c=>c.id===t)&&(this.tasks=this.tasks.filter(c=>c.id!==t),this.notify())}getTasks(){return[...this.tasks]}subscribe(t){this.listeners.push(t)}notify(){for(const t of this.listeners)t(this.getTasks())}}class b{constructor(t){this.task=t,this.taskManager=o.getInstance()}execute(){this.taskManager.addTask(this.task)}undo(){this.taskManager.removeTask(this.task.id)}}class i{constructor(){this.undoStack=[],this.redoStack=[]}static getInstance(){return i.instance||(i.instance=new i),i.instance}executeCommand(t){t.execute(),this.undoStack.push(t),this.redoStack=[]}undo(){const t=this.undoStack.pop();t&&(t.undo(),this.redoStack.push(t))}redo(){const t=this.redoStack.pop();t&&(t.execute(),this.undoStack.push(t))}}class g{filter(t){return t}}class w{filter(t){return t.filter(e=>e.status==="active")}}class T{filter(t){return t.filter(e=>e.status==="completed")}}class B{filter(t){return t.filter(e=>e.status==="not_started")}}const l=document.getElementById("taskInput"),C=document.getElementById("addBtn"),m=document.getElementById("taskList"),E=document.getElementById("statusSelect"),y=document.getElementById("filterSelect"),N=document.getElementById("undoBtn"),O=document.getElementById("redoBtn"),k=document.getElementById("filterSelect"),u=o.getInstance();C.onclick=()=>{if(!l.value)return;l.value;const a=E.value,t=h.createTask(l.value,a),e=new b(t);i.getInstance().executeCommand(e),l.value="",f(u.getTasks())};u.subscribe(f);y.onchange=()=>{f(u.getTasks())};let d=new g;k.onchange=()=>{switch(k.value){case"active":d=new w;break;case"completed":d=new T;break;case"not_started":d=new B;break;default:d=new g;break}f(o.getInstance().getTasks())};N.onclick=()=>{i.getInstance().undo()};O.onclick=()=>{i.getInstance().redo()};function f(a){y.value;const t=d.filter(a);m.innerHTML="";for(const e of t){const c=document.createElement("li");c.className="mb-2";const s=document.createElement("span");s.textContent=e.status==="completed"?`✔️ ${e.content}`:e.content,s.className="mr-2";const n=document.createElement("select");n.className="select is-info";const r=new Option("Active","active"),S=new Option("Completed","completed"),v=new Option("Not Started","not_started");n.appendChild(v),n.appendChild(r),n.appendChild(S),n.value=e.status,n.onchange=()=>{u.updateStatus(e.id,n.value)},c.appendChild(s),c.appendChild(n),m.appendChild(c)}}
